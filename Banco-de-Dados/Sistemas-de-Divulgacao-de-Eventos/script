CREATE DATABASE MU_Fest;
USE MU_Fest;
CREATE TABLE usuarios (
id_usuario INT AUTO_INCREMENT PRIMARY KEY,
email VARCHAR(100) NOT NULL,
senha VARCHAR(100) NOT NULL,
tipo VARCHAR(50) NOT NULL
);
CREATE TABLE tipo (
id_tipo INT AUTO_INCREMENT PRIMARY KEY,
tipo VARCHAR(30)
);
CREATE TABLE eventos (
id_evento INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(100) NOT NULL,
data DATE NOT NULL,
horario TIME NOT NULL,
localizacao VARCHAR(250) NOT NULL,
descricao VARCHAR(500),
onde_comprar VARCHAR(300) NOT NULL,
id_tipo INT,
id_usuario INT,
FOREIGN KEY (id_tipo) REFERENCES tipo(id_tipo),
FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);
CREATE TABLE avaliacao (
id_avaliacao INT AUTO_INCREMENT PRIMARY KEY,
nota INT CHECK (nota BETWEEN 1 AND 10),
comentario VARCHAR(300),
id_evento INT,
id_usuario INT,
FOREIGN KEY (id_evento) REFERENCES eventos(id_evento),
FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);
CREATE TABLE denuncia (
id_denuncia INT AUTO_INCREMENT PRIMARY KEY,
justificativa VARCHAR(300),
id_usuario INT,
id_evento INT,
FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario),
FOREIGN KEY (id_evento) REFERENCES eventos(id_evento)
);
